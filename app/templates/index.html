{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <div class="hero-content">
        <h1 class="hero-title">
            Find Your Perfect <span style="background: linear-gradient(135deg, #f6d365 0%, #fda085 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">Home</span> in India
        </h1>
        <p class="hero-subtitle">
            Discover thousands of verified premium properties across India. Buy, rent, or find PG accommodations with absolute ease and confidence.
        </p>
        <button class="cta-button" onclick="window.location.href='{{ url_for('main.properties') }}'">
            <i class="fas fa-search me-2"></i>Explore Properties
        </button>
    </div>
</section>

<!-- Quick Search -->
<section class="quick-search">
    <div class="container">
        <div class="search-card glass-card">
            <h2>Find Your Perfect Property</h2>
            <form class="search-form" method="GET" action="{{ url_for('main.properties') }}">
                <div class="search-row">
                    <div class="search-group">
                        <select name="category" class="form-select">
                            <option value="">Buy/Rent/PG</option>
                            <option value="buy">Buy</option>
                            <option value="rent">Rent</option>
                            <option value="pg">PG/Hostel</option>
                        </select>
                    </div>
                    <div class="search-group">
                        <input type="text" name="location" class="form-control" placeholder="Location">
                    </div>
                    <div class="search-group">
                        <select name="property_type" class="form-select">
                            <option value="">Property Type</option>
                            <option value="apartment">Apartment</option>
                            <option value="house">House</option>
                            <option value="villa">Villa</option>
                            <option value="studio">Studio</option>
                        </select>
                    </div>
                    <button type="submit" class="search-btn">
                        <i class="fas fa-search"></i> Search
                    </button>
                </div>
            </form>
        </div>
    </div>
</section>

<!-- Stats Section -->
<section class="stats">
    <div class="container">
        <div class="stats-grid">
            <div class="stat-card glass-card">
                <div class="stat-icon">
                    <i class="fas fa-home"></i>
                </div>
                <div class="stat-content">
                    <h3>{{ stats.properties }}+</h3>
                    <p>Properties Listed</p>
                </div>
            </div>
            <div class="stat-card glass-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                    <h3>{{ stats.customers }}+</h3>
                    <p>Happy Customers</p>
                </div>
            </div>
            <div class="stat-card glass-card">
                <div class="stat-icon">
                    <i class="fas fa-handshake"></i>
                </div>
                <div class="stat-content">
                    <h3>{{ stats.sellers }}+</h3>
                    <p>Verified Sellers</p>
                </div>
            </div>
            <div class="stat-card glass-card">
                <div class="stat-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="stat-content">
                    <h3>50+</h3>
                    <p>Cities Covered</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Featured Properties -->
<section class="featured-properties">
    <div class="container">
        <div class="section-header">
            <h2>Featured Properties</h2>
            <p>Handpicked premium properties just for you</p>
        </div>

        {% if featured_properties %}
            <div class="properties-grid">
                {% for property in featured_properties %}
                    <div class="property-card" onclick="window.location.href='{{ url_for('main.property_detail', id=property.id) }}'">
                        <div class="property-image" style="background-image: url('{% if property.images %}{{ url_for('main.uploaded_file', filename=property.images[0].filename) }}{% else %}https://images.pexels.com/photos/1396122/pexels-photo-1396122.jpeg{% endif %}');">
                            <span class="category-badge category-{{ property.category }}">
                                {% if property.category == 'buy' %}For Sale
                                {% elif property.category == 'rent' %}For Rent
                                {% else %}PG/Hostel
                                {% endif %}
                            </span>
                            <div class="property-price">
                                {% if property.category == 'buy' %}
                                    ‚Çπ{{ "{:,.0f}".format(property.price / 100000) }}L
                                {% else %}
                                    ‚Çπ{{ "{:,}".format(property.price) }}/mo
                                {% endif %}
                            </div>
                        </div>
                        <div class="property-content">
                            <h3 class="property-title">{{ property.title }}</h3>
                            <div class="property-location">
                                <i class="fas fa-map-marker-alt"></i>
                                {{ property.location }}
                            </div>
                            <div class="property-details">
                                {% if property.bedrooms > 0 %}
                                <span class="property-detail">
                                    <i class="fas fa-bed"></i> {{ property.bedrooms }} Bed
                                </span>
                                {% endif %}
                                {% if property.bathrooms > 0 %}
                                <span class="property-detail">
                                    <i class="fas fa-bath"></i> {{ property.bathrooms }} Bath
                                </span>
                                {% endif %}
                                <span class="property-detail">
                                    <i class="fas fa-ruler-combined"></i> {{ property.area }} sq ft
                                </span>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <div class="empty-state-icon">üè†</div>
                <h3>No Featured Properties Yet</h3>
                <p>Our admin team is working hard to review and approve amazing properties. Check back soon!</p>
                {% if not current_user.is_authenticated or current_user.role == 'seller' %}
                    <a href="{{ url_for('auth.register') }}" class="btn btn-primary">
                        <i class="fas fa-user-plus me-2"></i>Join as Seller
                    </a>
                {% endif %}
            </div>
        {% endif %}

        <div class="section-footer text-center mt-4">
            <a href="{{ url_for('main.properties') }}" class="btn btn-outline-primary btn-lg">
                View All Properties <i class="fas fa-arrow-right ms-2"></i>
            </a>
        </div>
    </div>
</section>

<!-- Why Choose Us -->
<section class="stats">
    <div class="container">
        <div class="section-header">
            <h2>Why Choose Settle Space?</h2>
            <p>We're committed to making your property search simple, secure, and successful</p>
        </div>

        <div class="stats-grid">
            <div class="stat-card glass-card">
                <div class="stat-icon">
                    <i class="fas fa-shield-alt"></i>
                </div>
                <div class="stat-content">
                    <h3>Verified Properties</h3>
                    <p>All properties are verified by our team before listing</p>
                </div>
            </div>

            <div class="stat-card glass-card">
                <div class="stat-icon">
                    <i class="fas fa-users"></i>
                </div>
                <div class="stat-content">
                    <h3>Trusted Community</h3>
                    <p>Join thousands of satisfied customers and sellers</p>
                </div>
            </div>

            <div class="stat-card glass-card">
                <div class="stat-icon">
                    <i class="fas fa-map-marker-alt"></i>
                </div>
                <div class="stat-content">
                    <h3>Pan India Coverage</h3>
                    <p>Properties available across all major cities in India</p>
                </div>
            </div>

            <div class="stat-card glass-card">
                <div class="stat-icon">
                    <i class="fas fa-star"></i>
                </div>
                <div class="stat-content">
                    <h3>Premium Support</h3>
                    <p>24/7 customer support to help you every step of the way</p>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-5">
    <div class="container text-center">
        <div class="glass-card" style="padding: 3rem 2rem;">
            <h2 class="display-6 fw-bold mb-3" style="color: white;">Ready to Find Your Perfect Home?</h2>
            <p class="lead mb-4" style="color: rgba(255, 255, 255, 0.8);">Join thousands of happy customers who found their ideal properties through Settle Space</p>
            <div class="d-flex flex-column flex-sm-row gap-3 justify-content-center">
                <a href="{{ url_for('auth.register') }}" class="btn btn-primary btn-lg">
                    <i class="fas fa-user-plus me-2"></i>Get Started
                </a>
                <a href="{{ url_for('main.properties') }}" class="btn btn-outline-primary btn-lg">
                    <i class="fas fa-search me-2"></i>Browse Properties
                </a>
            </div>
        </div>
    </div>
</section>
{% endblock %}
